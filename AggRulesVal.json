[
	{
		"name": "Amazon",
		"filename_pattern": "/Amazon Rental",
		"product_type": "EBK",
		"data_sheet":0,
		"acceptable_currencies":["USD"],
		"file_type":"csv",
		"header_row": 0,
		"data_row": 1,
		"discard_last_rows":0,
		"relevant_attributes":	[
									{"input_column_name": "invoice_date", "staging_column_name":"transaction_date"},
									{"input_column_name": "digital_isbn", "staging_column_name":"e_product_id"},
									{"input_column_name": "physical_isbn_10", "staging_column_name":"p_backup_product_id"},
									{"input_column_name": "physical_isbn_13", "staging_column_name":"p_product_id"},

									{"input_column_name": "title", "staging_column_name":"title"},
									{"input_column_name": "imprint", "staging_column_name":"imprint"},
									{"input_column_name": "FORMAT_00001", "staging_column_name":"product_format"},

									{"input_column_name": "vendor_code", "staging_column_name":"vendor_code"},
									{"input_column_name": "rental_type", "staging_column_name":"sale_type"},
									{"input_column_name": "rental_duration", "staging_column_name":"rental_duration"},

									{"input_column_name": "list_price", "staging_column_name":"list_price"},
									{"input_column_name": "amount_currency", "staging_column_name":"trans_currency"},
									{"input_column_name": "new_discount_percentage", "staging_column_name":"disc_percentage"},
									{"input_column_name": "payment_amount", "staging_column_name":"revenue_value"},
									{"input_column_name": "net_units", "staging_column_name":"net_units"},

									{"input_column_name": "units_rented", "staging_column_name":"total_sales_count"},
									{"input_column_name": "units_refunded", "staging_column_name":"total_returns_count"}
								],

		"filters":	{
						"mandatory_columns": ["Digital ISBN", "Physical ISBN-10", "Physical ISBN-13"],
						"amount_column":"revenue_value",
						"column_validations": [
												{
													"column_name": "revenue_value",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "list_price",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "total_sales_count",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0
																	}
												},
												{
													"column_name": "total_returns_count",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0
																	}
												},
												{
													"column_name": "disc_percentage",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "transaction_date",
													"dtype": "date",
													"missing_data":	{
																		"process_type": "process",
																		"value": "current_date"
																	}
												},
												{
													"column_name": "trans_currency",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "USD"
																	}
												},
												{
													"column_name": "imprint",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												},
												{
													"column_name": "product_format",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												}
											],
						"convert_percentage": "no"
					},
		"pattern_extractions":	[
									{
										"regex":"AU|Brazil|Canada|DE|France|GB|India|Italy|Japan|Mexico|NL|Spain|US",
										"staging_column_name":"region_of_sale"
									},
									{
										"regex":"ASHEU|INHQQ|TAYQQ|TYFQQ|TYFRQ",
										"staging_column_name":"vendor_code"
									}
								],
		"group_staging_data": 	{
									"aggregation_function":{"list_price": "sum", "net_unit_price": "sum", "net_units": "sum", "revenue_value": "sum", "total_sales_count": "sum", "total_sales_value":"sum", "total_returns_count": "sum", "total_returns_value":"sum"},
									"groupby_columns": ["transaction_date", "e_product_id", "p_backup_product_id", "p_product_id", "title", "vendor_code", "product_type", "imprint", "product_format", "sale_type", "rental_duration", "trans_currency", "disc_percentage", "region_of_sale"]
								}
	},

	{
		"name": "Amazon",
		"filename_pattern": "/Amazon",
		"product_type": "EBK",
		"data_sheet":0,
		"acceptable_currencies":[],
		"file_type":"csv",
		"header_row": 0,
		"data_row": 1,
		"discard_last_rows":3,
		"attribute_names":	["Invoice Date", "ASIN", "Physical ISBN-10","Physical ISBN-13","Digital ISBN","Title","Author","Imprint","Format","Units Purchased","Units Refunded","Net Units","Net Units MTD","Adjustments Made","List Price","List Price Currency","Publisher Price","Publisher Price Currency","Discount Percentage","Payment Amount","Payment Amount Currency","Program Type"],

		"relevant_attributes":	[
									{"input_column_name": "Invoice Date", "staging_column_name":"transaction_date"},
									{"input_column_name": "Digital ISBN", "staging_column_name":"e_product_id"},
									{"input_column_name": "Physical ISBN-10", "staging_column_name":"p_backup_product_id"},
									{"input_column_name": "Physical ISBN-13", "staging_column_name":"p_product_id"},
									
									{"input_column_name": "Title", "staging_column_name":"title"},
									{"input_column_name": "Imprint", "staging_column_name":"imprint"},
									{"input_column_name": "Format", "staging_column_name":"product_format"},

									{"input_column_name": "List Price", "staging_column_name":"list_price"},
									{"input_column_name": "Payment Amount Currency", "staging_column_name":"trans_currency"},
									{"input_column_name": "Discount Percentage", "staging_column_name":"disc_percentage"},
									{"input_column_name": "Payment Amount", "staging_column_name":"revenue_value"},
									{"input_column_name": "Net Units", "staging_column_name":"net_units"},
									{"input_column_name": "Units Purchased", "staging_column_name":"total_sales_count"},
									{"input_column_name": "Units Refunded", "staging_column_name":"total_returns_count"}
								],
		"filters": {	
						"mandatory_columns": ["Digital ISBN", "Physical ISBN-10", "Physical ISBN-13"],
						"amount_column":"revenue_value",
						"column_validations": [
												{
													"column_name": "revenue_value",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "list_price",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "total_sales_count",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0
																	}
												},
												{
													"column_name": "total_returns_count",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0
																	}
												},
												{
													"column_name": "disc_percentage",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "transaction_date",
													"dtype": "date",
													"missing_data":	{
																		"process_type": "process",
																		"value": "current_date"
																	}
												},
												{
													"column_name": "trans_currency",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "USD"
																	}
												},
												{
													"column_name": "imprint",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												},
												{
													"column_name": "product_format",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												}
											],
						"convert_percentage": "yes"
					},
		"pattern_extractions":	[
									{
										"regex":"AU|Brazil|Canada|DE|France|GB|India|Italy|Japan|Mexico|NL|Spain|US",
										"staging_column_name":"region_of_sale"
									},
									{
										"regex":"ASHEU|INHQQ|TAYQQ|TYFQQ|TYFRQ",
										"staging_column_name":"vendor_code"
									}
								],
		"group_staging_data": 	{
									"aggregation_function":{"list_price": "sum", "net_unit_price": "sum", "net_units": "sum", "revenue_value": "sum", "total_sales_count": "sum", "total_sales_value":"sum", "total_returns_count": "sum", "total_returns_value":"sum"},
									"groupby_columns": ["transaction_date", "e_product_id", "p_backup_product_id", "p_product_id", "title", "vendor_code", "product_type", "imprint", "product_format", "sale_type", "rental_duration", "trans_currency", "disc_percentage", "region_of_sale"]
								} 
	},

	{
		"name": "Ebsco",
		"filename_pattern": "/Ebsco",
		"product_type": "EBK",
		"data_sheet":"all",
		"acceptable_currencies":["USD","GBP"],
		"file_type":"xlsx",
		"header_row": 0,
		"data_row": 2,
		"discard_last_rows":0,
		"relevant_attributes":	[
									{"input_column_name": "Transaction Date", "staging_column_name":"transaction_date"},
									
									{"input_column_name": "EISBN", "staging_column_name":"digital_isbn"},
									{"input_column_name": "ISBN", "staging_column_name":"physical_isbn"},

									{"input_column_name": "TITLE", "staging_column_name":"title"},
									{"input_column_name": "IMPRINT", "staging_column_name":"imprint"},
									
									{"input_column_name": "SALE TYPE", "staging_column_name":"sale_type"},

									{"input_column_name": "List Price", "staging_column_name":"list_price"},
									{"input_column_name": "Transaction Currency", "staging_column_name":"trans_currency"},
									{"input_column_name": "DISC RATE", "staging_column_name":"disc_percentage"},
									{"input_column_name": "ROYALTY DUE", "staging_column_name":"revenue_value"},
									{"input_column_name": "QTY", "staging_column_name":"net_units"},

									{"input_column_name": "CTRY", "staging_column_name":"region_of_sale"}
								
								],

		"filters":	{	
						"mandatory_columns": ["ORDER ID"],
						"amount_column":"revenue_value",
						"column_validations": [
												{
													"column_name": "revenue_value",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "list_price",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "transaction_date",
													"dtype": "date",
													"missing_data":	{
																		"process_type": "process",
																		"value": "current_date"
																	}
												},
												{
													"column_name": "trans_currency",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												},
												{
													"column_name": "imprint",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												}
												
											],
						"convert_percentage": "no"
					},
		"group_staging_data": 	{
									"aggregation_function":{"list_price": "sum", "net_unit_price": "sum", "net_units": "sum", "revenue_value": "sum", "total_sales_count": "sum", "total_sales_value":"sum", "total_returns_count": "sum", "total_returns_value":"sum"},
									"groupby_columns": ["transaction_date", "e_product_id", "e_backup_product_id", "p_product_id", "p_backup_product_id", "title", "vendor_code", "product_type", "imprint", "product_format", "sale_type", "trans_currency", "disc_percentage", "region_of_sale", "misc_product_ids"]
								}
	},

	{
		"name": "Ebsco",
		"filename_pattern": "/Ebsco Subscription",
		"product_type": "EBK",
		"data_sheet":"all",
		"acceptable_currencies":[],
		"file_type":"xlsx",
		"header_row": 0,
		"data_row": 0,
		"discard_last_rows":0
		
	},

	{
		"name": "PqCentral",
		"filename_pattern": "/PqCentral",
		"product_type": "EBK",
		"data_sheet":"all",
		"acceptable_currencies":["USD","GBP"],
		"file_type":"xlsx",
		"header_row": 0,
		"data_row": 2,
		"discard_last_rows":0,
		"relevant_attributes":	[
									{"input_column_name": "Transaction Date", "staging_column_name":"transaction_date"},
									
									{"input_column_name": "EbookIsbn", "staging_column_name":"e_product_id"},
									{"input_column_name": "PrintIsbn", "staging_column_name":"p_product_id"},

									{"input_column_name": "Title", "staging_column_name":"title"},
									{"input_column_name": "Imprint", "staging_column_name":"imprint"},
									
									{"input_column_name": "SaleType", "staging_column_name":"sale_type"},
									{"input_column_name": "Publisher", "staging_column_name":"vendor_code"},

									{"input_column_name": "Sales Price", "staging_column_name":"list_price"},
									{"input_column_name": "Currency", "staging_column_name":"trans_currency"},
									{"input_column_name": "Publisher Revenue Share", "staging_column_name":"disc_percentage"},
									{"input_column_name": "Due to Publisher", "staging_column_name":"revenue_value"},
									{"input_column_name": "Units Sold", "staging_column_name":"net_units"},

									{"input_column_name": "Promotional Discount Percent", "staging_column_name":"promotional_disc_percentage"},
									{"input_column_name": "Region", "staging_column_name":"region_of_sale"}
								
								],

		"filters":	{	
						"mandatory_columns": ["EbookIsbn","PrintIsbn"],
						"amount_column":"revenue_value",
						"column_validations": [
												{
													"column_name": "revenue_value",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "list_price",
													"dtype": "float",
													"missing_data":	{
																		"process_type": "process",
																		"value": 0.0
																	}
												},
												{
													"column_name": "transaction_date",
													"dtype": "date",
													"missing_data":	{
																		"process_type": "process",
																		"value": "current_date"
																	}
												},
												{
													"column_name": "trans_currency",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												},
												{
													"column_name": "imprint",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												},
												{
													"column_name": "sale_type",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												},
												{
													"column_name": "vendor_code",
													"dtype": "str",
													"missing_data": {
																		"process_type": "process",
																		"value": "NA"
																	}
												}
												
											],
						"convert_percentage": "yes"
					},
		"group_staging_data": 	{
									"aggregation_function":{"list_price": "sum", "net_unit_price": "sum", "net_units": "sum", "revenue_value": "sum", "total_sales_count": "sum", "total_sales_value":"sum", "total_returns_count": "sum", "total_returns_value":"sum"},
									"groupby_columns": ["transaction_date", "e_product_id", "e_backup_product_id", "p_product_id", "p_backup_product_id", "title", "vendor_code", "product_type", "imprint", "product_format", "sale_type", "trans_currency", "disc_percentage", "region_of_sale"]
								}
	},

	{
		"name": "PqCentral",
		"filename_pattern": "/PqCentral Subscription",
		"product_type": "EBK",
		"data_sheet":"all",
		"acceptable_currencies":[],
		"file_type":"xlsx",
		"header_row": 0,
		"data_row": 0,
		"discard_last_rows":0
		
	}
]